chrome.action.onClicked.addListener((e=>{chrome.scripting.executeScript({target:{tabId:e.id},files:["content.js"]})})),chrome.runtime.onMessage.addListener(((e,r,t)=>(console.log("Retrieving content for page:"+e.url),fetch(e.url).then((r=>{if(r.ok)return r.text();throw new Error("Network response was not ok for "+e.url)})).then((e=>{console.log(e),t({data:e})})).catch((e=>{console.error("Problem with retrieving the source url details:",e),t({data:null,error:e.message})})),!0)));